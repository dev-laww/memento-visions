[gd_scene load_steps=25 format=4 uid="uid://b4wadx6dv5aan"]

[ext_resource type="PackedScene" uid="uid://bwreypn7kqmpw" path="res://Scenes/Entities/Characters/Player.tscn" id="1_28rab"]
[ext_resource type="Script" uid="uid://b7tipxnk0uqml" path="res://Scripts/Levels/Bar.cs" id="1_u221d"]
[ext_resource type="Material" uid="uid://00klyclfoq2s" path="res://resources/shaders/smooth-filtering.tres" id="2_7gq68"]
[ext_resource type="AudioStream" uid="uid://yvlm18fmqdjv" path="res://assets/SFX/Music/relaxing-piano-music-291015.mp3" id="2_j24d5"]
[ext_resource type="Texture2D" uid="uid://bld0optmgxhyy" path="res://assets/scenes/bar/door.png" id="3_iihhm"]
[ext_resource type="Script" uid="uid://bc2jlb4w58y24" path="res://Scripts/Components/SmoothTileMapLayer.cs" id="3_tm1gt"]
[ext_resource type="Script" uid="uid://58jqrupdcss0" path="res://Scripts/Components/SmoothSprite2D.cs" id="5_a0tbo"]
[ext_resource type="TileSet" uid="uid://di324xlegxgrg" path="res://resources/tilesets/bar.tres" id="7_unifd"]
[ext_resource type="PackedScene" uid="uid://j0qixu5x2ins" path="res://Scenes/Decorations/Bar/LargeBarrel.tscn" id="8_fqy60"]
[ext_resource type="TileSet" uid="uid://b0bp4y4xuaxog" path="res://resources/tilesets/bar-decoration.tres" id="8_qpdtc"]
[ext_resource type="PackedScene" uid="uid://b5jpiv87dv1rl" path="res://Scenes/Decorations/Bar/Barrel.tscn" id="9_ikvjg"]
[ext_resource type="PackedScene" uid="uid://dgqrvixy2ocww" path="res://Scenes/Entities/Characters/BlackSmith.tscn" id="11_cu4de"]
[ext_resource type="PackedScene" uid="uid://c7u7njt632rfb" path="res://Scenes/Entities/Enemies/Common/Dummy.tscn" id="12_no76d"]
[ext_resource type="PackedScene" uid="uid://d1gnxumr8r1hu" path="res://Scenes/Entities/Enemies/Common/Samurai.tscn" id="13_1awp1"]
[ext_resource type="Script" uid="uid://cd87fvbcydnp5" path="res://Scripts/Components/Area/QuestTrigger.cs" id="16_fjgj2"]
[ext_resource type="Resource" uid="uid://b68babfd4dju" path="res://resources/quests/test.tres" id="17_e5pbf"]
[ext_resource type="PackedScene" uid="uid://cf2yu213pnwwr" path="res://Scenes/UI/Common/InteractionUI.tscn" id="18_t4i44"]
[ext_resource type="Script" uid="uid://davlg2u8drdh4" path="res://Scripts/Components/Area/TransitionArea.cs" id="18_towvu"]
[ext_resource type="Script" uid="uid://dpkqc20rlrftv" path="res://Scripts/Resources/QuestObjective.cs" id="18_xlj0l"]
[ext_resource type="Script" uid="uid://grqe710ov3qk" path="res://Scripts/UI/Common/InteractionUI.cs" id="19_xlj0l"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ervve"]
size = Vector2(22, 12)

[sub_resource type="CircleShape2D" id="CircleShape2D_fjgj2"]
radius = 17.1172

[sub_resource type="Resource" id="Resource_468va"]
script = ExtResource("18_xlj0l")
Type = 1
Description = ""
metadata/_custom_type_script = ExtResource("18_xlj0l")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t4i44"]
size = Vector2(66, 20)

[node name="Bar" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_u221d")
music = ExtResource("2_j24d5")

[node name="Art" type="Node2D" parent="."]
y_sort_enabled = true
position = Vector2(-17, -3)

[node name="Door" type="Sprite2D" parent="Art"]
texture_filter = 2
material = ExtResource("2_7gq68")
position = Vector2(252, 50)
texture = ExtResource("3_iihhm")
script = ExtResource("5_a0tbo")

[node name="Barrels" type="Node2D" parent="Art"]
y_sort_enabled = true

[node name="LargeBarrel" parent="Art/Barrels" instance=ExtResource("8_fqy60")]
position = Vector2(51, 219)

[node name="Barrel" parent="Art/Barrels" instance=ExtResource("9_ikvjg")]
position = Vector2(61, 225)

[node name="Barrel2" parent="Art/Barrels" instance=ExtResource("9_ikvjg")]
position = Vector2(50, 229)

[node name="LargeBarrel2" parent="Art/Barrels" instance=ExtResource("8_fqy60")]
position = Vector2(429, 68)

[node name="Barrel3" parent="Art/Barrels" instance=ExtResource("9_ikvjg")]
position = Vector2(435, 77)

[node name="Floor" type="TileMapLayer" parent="Art"]
z_index = -2
y_sort_enabled = true
texture_filter = 2
material = ExtResource("2_7gq68")
position = Vector2(24, 14)
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAEAAAAAAAIAAAAAAAEAAAAFAAAAAAABAAAAAAAEAAAAAAABAAAAAAABAAAAAAABAAAAAAACAAAAAAABAAAAAAADAAAAAAABAAAAAAABAAEAAAABAAEAAAABAAIAAAABAAEAAAAFAAEAAAABAAEAAAAEAAEAAAABAAEAAAACAAEAAAABAAEAAAADAAEAAAABAAEAAAACAAIAAAABAAEAAAAFAAIAAAABAAEAAAAEAAIAAAABAAEAAAADAAIAAAABAAEAAAAGAAAAAAABAAAAAAAHAAAAAAABAAAAAAAIAAAAAAABAAAAAAAIAAEAAAABAAEAAAAIAAIAAAABAAEAAAAIAAMAAAABAAEAAAAIAAQAAAABAAEAAAAHAAQAAAABAAEAAAAGAAQAAAABAAEAAAAFAAQAAAABAAEAAAAEAAQAAAABAAEAAAADAAQAAAABAAEAAAACAAQAAAABAAEAAAABAAQAAAABAAEAAAAAAAQAAAAAAAEAAAAAAAMAAAAAAAEAAAABAAMAAAABAAEAAAACAAMAAAABAAEAAAADAAMAAAABAAEAAAAEAAMAAAABAAEAAAAFAAMAAAABAAEAAAAGAAMAAAABAAEAAAAHAAIAAAABAAEAAAAHAAEAAAABAAEAAAAGAAEAAAABAAEAAAAGAAIAAAABAAEAAAD//wAAAgAUAAAAAAD/////AgAUAAAAAAAAAP//AgAUAAAAAAABAP//AgAUAAAAAAACAP//AgAUAAAAAAADAP//AgAUAAAAAAAEAP//AgAUAAAAAAAFAP//AgAUAAAAAAAGAP//AgAUAAAAAAAHAP//AgAUAAAAAAAIAP//AgAUAAAAAAAJAP//AgAUAAAAAAAJAAAAAAABAAAAAAAJAAEAAAABAAEAAAD//wEAAgAUAAAAAAD//wIAAgAUAAAAAAD//wMAAgAUAAAAAAD//wQAAgAUAAAAAAD//wUAAgAUAAAAAAD//wYAAgAUAAAAAAD//wcAAgAUAAAAAAAAAAcAAgAUAAAAAAABAAcAAgAUAAAAAAACAAcAAgAUAAAAAAADAAcAAgAUAAAAAAAEAAcAAgAUAAAAAAAFAAcAAgAUAAAAAAAGAAcAAgAUAAAAAAAHAAcAAgAUAAAAAAAIAAcAAgAUAAAAAAAJAAcAAgAUAAAAAAAKAAcAAgAUAAAAAAALAAcAAgAUAAAAAAAMAAcAAgAUAAAAAAAKAP//AgAUAAAAAAALAP//AgAUAAAAAAAMAP//AgAUAAAAAAAMAAAAAAACAAAAAAAMAAEAAAACAAEAAAAMAAIAAAACAAEAAAAMAAMAAAACAAEAAAAMAAQAAAACAAEAAAAMAAUAAAACAAEAAAAMAAYAAAACAAIAAAAJAAIAAAABAAEAAAAJAAMAAAABAAEAAAAJAAQAAAABAAEAAAALAAAAAAABAAAAAAAKAAAAAAABAAAAAAAKAAEAAAABAAEAAAALAAEAAAABAAEAAAALAAIAAAABAAEAAAALAAMAAAABAAEAAAAKAAMAAAABAAEAAAAKAAIAAAABAAEAAAAKAAQAAAABAAEAAAALAAQAAAABAAEAAAALAAUAAAABAAEAAAALAAYAAAABAAIAAAAKAAYAAAABAAIAAAAJAAYAAAABAAIAAAAIAAYAAAABAAIAAAAHAAYAAAABAAIAAAAGAAYAAAABAAIAAAAFAAYAAAABAAIAAAAEAAYAAAABAAIAAAADAAYAAAABAAIAAAACAAYAAAABAAIAAAABAAYAAAABAAIAAAAAAAYAAAAAAAIAAAAAAAUAAAAAAAEAAAABAAUAAAABAAEAAAACAAUAAAABAAEAAAADAAUAAAABAAEAAAAEAAUAAAABAAEAAAAFAAUAAAABAAEAAAAGAAUAAAABAAEAAAAHAAUAAAABAAEAAAAIAAUAAAABAAEAAAAJAAUAAAABAAEAAAAKAAUAAAABAAEAAAANAP//AgAUAAAAAAANAAAAAgAUAAAAAAANAAEAAgAUAAAAAAANAAIAAgAUAAAAAAANAAMAAgAUAAAAAAANAAQAAgAUAAAAAAANAAUAAgAUAAAAAAANAAYAAgAUAAAAAAANAAcAAgAUAAAAAAAHAAMAAAABAAEAAAA=")
tile_set = ExtResource("7_unifd")
script = ExtResource("3_tm1gt")

[node name="Decoration" type="TileMapLayer" parent="Art"]
y_sort_enabled = true
texture_filter = 2
material = ExtResource("2_7gq68")
tile_map_data = PackedByteArray("AAAHAAQAAAASAAgAAAAHAAIAAAABAAgAAAALAAMAAAAAAAkAAAALAAUAAAAAAAkAAAAFAAYAAAAAAAkAAAAHAAYAAAAAAAkAAAAJAAYAAAAAAAkAAAASAAwAAAAGAAkAAAAYAAcAAAAGAAkAAAASAAcAAAAGAAkAAAAYAAUAAAAEAAkAAAASAAUAAAAEAAkAAAAKAAkAAAAEAAkAAAAKAAsAAAAGAAgAAAASAAoAAAAEAAkAAAASAAsAAAAGAAgAAAAYAAYAAAAGAAgAAAASAAYAAAAGAAgAAAAKAAwAAAAGAAkAAAAaAAIAAAAEAAgAAAA=")
tile_set = ExtResource("8_qpdtc")
script = ExtResource("3_tm1gt")

[node name="Player" parent="." instance=ExtResource("1_28rab")]
position = Vector2(55, 108)

[node name="TransitionArea" type="Area2D" parent="."]
position = Vector2(235, 57)
collision_layer = 0
collision_mask = 4
script = ExtResource("18_towvu")
TargetScene = "res://Scenes/TestArea.tscn"

[node name="CollisionShape2D" type="CollisionShape2D" parent="TransitionArea"]
shape = SubResource("RectangleShape2D_ervve")

[node name="BlackSmith" parent="." instance=ExtResource("11_cu4de")]
position = Vector2(116, 119)

[node name="Dummy" parent="." instance=ExtResource("12_no76d")]
position = Vector2(94, 199)

[node name="Samurai" parent="." instance=ExtResource("13_1awp1")]
position = Vector2(381, 174)

[node name="QuestTrigger" type="Area2D" parent="."]
position = Vector2(60, 169)
collision_layer = 16
collision_mask = 4
script = ExtResource("16_fjgj2")
ShouldInteract = true
InteractionLabel = "Interact"
Quest = ExtResource("17_e5pbf")
metadata/_custom_type_script = ExtResource("16_fjgj2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="QuestTrigger"]
shape = SubResource("CircleShape2D_fjgj2")
debug_color = Color(0.88, 0.525, 0.898, 0.42)

[node name="Node2D" type="Node2D" parent="QuestTrigger"]

[node name="InteractionUI" type="Control" parent="QuestTrigger/Node2D" instance=ExtResource("18_t4i44")]
layout_mode = 3
anchors_preset = 0
scale = Vector2(0.5, 0.5)
script = ExtResource("19_xlj0l")

[node name="QuestTrigger2" type="Area2D" parent="."]
position = Vector2(96, 241)
collision_layer = 16
collision_mask = 4
script = ExtResource("16_fjgj2")
Mode = 1
ShouldInteract = true
InteractionLabel = "Interact"
Quest = ExtResource("17_e5pbf")
Objective = SubResource("Resource_468va")
ObjectiveIndex = 2
metadata/_custom_type_script = ExtResource("16_fjgj2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="QuestTrigger2"]
shape = SubResource("RectangleShape2D_t4i44")
debug_color = Color(0.88, 0.525, 0.898, 0.42)

[node name="Node2D" type="Node2D" parent="QuestTrigger2"]

[node name="InteractionUI" type="Control" parent="QuestTrigger2/Node2D" instance=ExtResource("18_t4i44")]
layout_mode = 3
anchors_preset = 0
scale = Vector2(0.5, 0.5)
script = ExtResource("19_xlj0l")
